<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta content="IE=edge" http-equiv="X-UA-Compatible">
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta content="" name="Lab11">
    <meta content="" name="Zhiyuan">

    <title>Starter Template for Bootstrap</title>

    <!-- Bootstrap core CSS -->
    <link href="dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!-- <link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet"> -->

    <!-- Custom styles for this template -->
    <link href="starter-template.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]>
    <script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <!-- <script src="../../assets/js/ie-emulation-modes-warning.js"></script> -->

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container">
        <div class="navbar-header">
            <button aria-controls="navbar" aria-expanded="false" class="navbar-toggle collapsed" data-target="#navbar"
                    data-toggle="collapse" type="button">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">Lab10</a>
        </div>
        <div class="collapse navbar-collapse" id="navbar">
            <ul class="nav navbar-nav">
                <!--            <li class="index.html"><a href="#">Home</a></li>-->
                <!--            <li><a href="#intro">Introduction</a></li>-->
                <!--            <li><a href="#obj">Project Objective</a></li>-->
                <!--            <li><a href="#design">Procedure and Result</a></li>-->
                <!--            <li><a href="#drawings">Drawings</a></li>-->
                <!--            <li><a href="#testing">Testing</a></li>-->
                <!--            <li><a href="#result">Result</a></li>-->
            </ul>
        </div><!--/.nav-collapse -->
    </div>
</nav>

<div class="container">

    <div class="starter-template">
        <h1>Lab 11: Localization (real)
            Grid Localization on the real robot. </h1>
        <h4>Zhiyuan Zhang</h4>


    </div>

    <!--      <hr>-->
    <!--      <div class="center-block">-->
    <!--          <iframe width="640" height="360" src="https://www.youtube.com/embed/dQw4w9WgXcQ" frameborder="0" allowfullscreen></iframe>-->
    <!--          <h4 style="text-align:center;">Demonstration Video</h4>-->
    <!--      </div>-->

    <hr id="intro">

    <div style="text-align:center;">
        <h2>Introduction</h2>
        <p style="text-align: left;padding: 0px 30px;">In this lab, we applied the Bayes filter for
            grid-based localization. Our objective was to simulate a robot navigating a predetermined and preprogrammed
            path. At each time step, we employed the Bayes filter to ascertain the robot's location (localization). </p>

        <hr id='obj'>

        <!--      <div class="row">-->
        <!--          <div class="col-md-4" style="text-align:center;">-->
        <!--          <img class="img-rounded" src="pics/1.jpg" alt="Generic placeholder image" width="240" height="240">-->
        <!--          </div>-->
        <!--          <div class="col-md-8" style="font-size:18px;">-->
        <!--          <h2>Project Objective:</h2>-->
        <!--          <ul>-->
        <!--              <li>some important objectives.some important objectives.some important objectives.some important objectives.</li>-->
        <!--                <li>some other important objectives.</li>-->
        <!--            <li>some not-that-important objectives.</li>-->
        <!--          </ul>-->
        <!--          </div>-->
        <!--      </div>-->

        <!--    <hr id='design'>-->

        <div style="text-align:center;">
            <h2>Lab Procedure And Result</h2>
            <h3>Test Localization in Simulation</h3>
            <p style="text-align: left;padding: 0px 30px;">The notebook lab11_sim.ipynb is initially executed to
                evaluate the localization features in a simulated environment. The following graph displays odom, ground
                truth, and belief as the resulting output:</p>
            <img src="pics/STEP1.PNG" width="800">
            <p>
                The ground truth is depicted by the green line, the belief is indicated by the blue line, and the odom
                is represented by the red line. As demonstrated in the illustration, the Bayes filter performed
                effectively.</p>

            <p style="text-align: left;padding: 0px 30px;"></p>

            <p style="text-align: left;padding: 0px 30px;"></p>
            <h3>PERFORM OBSERVATION LOOP </h3>
            <p style="text-align: left;padding: 0px 30px;">

                Upon testing the provided code, the subsequent step involved completing the perform_observation_loop
                function in lab11_real.ipynb. I integrated an additional notification handler to obtain distance and
                angle data from Artemis, and subsequently issued a command for the robot to rotate 360 degrees while
                gathering 18 data points using the Tof sensor. To enable this functionality, a time delay was required,
                allowing the robot sufficient time to complete the rotation. Initially, I attempted to add the "await"
                and "async" keywords to the necessary function definitions as per the instructions, but encountered a
                challenging issue. Instead, I opted for an alternative approach, directly invoking the asyncio sleep
                coroutine as asyncio.run(asyncio.sleep(25)) within the perform_observation_loop() function. This
                solution proved effective after multiple trials.</p>
            <script src="https://gist.github.com/Zhang9340/e91591e6cd814dbeb8256cf4d3470762.js"></script>

            </p>
            <p style="text-align: left;padding: 0px 30px;">Below is the code snippet for the robot to rotate 360 degrees
                and collect 18 data points:</p>
            <script src="https://gist.github.com/Zhang9340/e91591e6cd814dbeb8256cf4d3470762.js"></script>

            <h3>ROTATION TEST</h3>
            <iframe width="560" height="315" src="https://www.youtube.com/embed/l5GWAmzWZ8U"
                    title="YouTube video player" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    allowfullscreen></iframe>

            <h3>RESULT</h3>

            <p style="text-align: left;padding: 0px 30px;">
                In the end, after thorough testing, I executed the observation loop at four distinct points on the map.
                The first point was located at (-3, -2). The results are provided below. I included the ground truth for
                comparison with the belief and incorporated a grid to enhance visualization. The localization of points
                aligned perfectly with the ground truth(blue(belief) and green point (ground truth) overlapped
                ).</p>
            <p style="text-align: left;padding: 0px 30px;">The result of (-3,-2)</p>
            <img src="pics/(-3,-2).PNG" width="800"> <img src="pics/(-3,-2)2.PNG" width="800">
            <script src="https://gist.github.com/Zhang9340/7db12139e7e67f14c0001e12f78839f4.js"></script>
            <p style="text-align: left;padding: 0px 30px;">The result of (0,3)</p>
            <img src="pics/(0,3).PNG" width="800"> <img src="pics/(0,3)2.PNG" width="800">
            <script src="https://gist.github.com/Zhang9340/94c2d706a043ea3acea3908880561635.js"></script>
            <p style="text-align: left;padding: 0px 30px;">The result of (5,3)</p>
            <img src="pics/(5,3).PNG" width="800"> <img src="pics/(5,3)2.PNG" width="800">
            <p style="text-align: left;padding: 0px 30px;">The result of (5,-3)</p>
            <script src="https://gist.github.com/Zhang9340/03debfcdb07c96df1c864ab53a874c18.js"></script>
            <img src="pics/(5,-3).PNG" width="800"> <img src="pics/(5,-3)2.PNG" width="800">
            <p style="text-align: left;padding: 0px 30px;"></p>
            <script src="https://gist.github.com/Zhang9340/318845aca1e582c514ae913f33ab914f.js"></script>



        </div>

    </div><!-- /.container -->


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery.min.js"><\/script>')</script>
    <script src="dist/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <!-- <script src="../../assets/js/ie10-viewport-bug-workaround.js"></script> -->
</body>
</html>
